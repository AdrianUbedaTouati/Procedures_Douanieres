# ================================================
# TENDERAI PLATFORM - VARIABLES DE ENTORNO
# ================================================

# ------------------------------------------------
# Django Configuration
# ------------------------------------------------
SECRET_KEY=django-insecure-CHANGE-THIS-IN-PRODUCTION
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# ------------------------------------------------
# Database
# ------------------------------------------------
# SQLite (Development)
DATABASE_URL=sqlite:///db.sqlite3

# PostgreSQL (Production)
# DATABASE_URL=postgresql://user:password@localhost:5432/tenderai_db

# ------------------------------------------------
# LLM Provider Configuration
# ------------------------------------------------
# Options: "google" or "openai"
LLM_PROVIDER=google

# Google Gemini
GOOGLE_API_KEY=your-google-api-key-here

# OpenAI (optional)
OPENAI_API_KEY=your-openai-api-key-here

# Model Configuration
GOOGLE_LLM_MODEL=gemini-2.5-flash
GOOGLE_EMBEDDING_MODEL=models/text-embedding-004
OPENAI_LLM_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-large

# ------------------------------------------------
# Email Configuration
# ------------------------------------------------
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=noreply@tenderai.com

# ------------------------------------------------
# Authentication Settings
# ------------------------------------------------
# Email verification required?
EMAIL_VERIFICATION_REQUIRED=True

# Login attempts (set to False to disable)
LOGIN_ATTEMPTS_ENABLED=False
MAX_LOGIN_ATTEMPTS=5
LOGIN_COOLDOWN_MINUTES=30

# Cooldown for verification emails (seconds)
EMAIL_VERIFICATION_COOLDOWN_SECONDS=120
PASSWORD_RESET_COOLDOWN_SECONDS=120

# Site URL for email links
SITE_URL=http://localhost:8000

# ------------------------------------------------
# Celery Configuration (Background Tasks)
# ------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ------------------------------------------------
# Redis Configuration (Cache & Channels)
# ------------------------------------------------
REDIS_URL=redis://localhost:6379/1
CACHE_TTL=3600

# ------------------------------------------------
# Agent_IA Configuration
# ------------------------------------------------
# Retriever settings
DEFAULT_K_RETRIEVE=6
MIN_SIMILARITY_SCORE=0.5

# Agent settings
USE_GRADING=True
USE_XML_VERIFICATION=True
MAX_AGENT_ITERATIONS=5

# Index settings
INDEX_TYPE=chromadb
CHROMA_PERSIST_DIRECTORY=data/index/chroma

# ------------------------------------------------
# TED API Configuration
# ------------------------------------------------
TED_API_BASE_URL=https://api.ted.europa.eu/v3
TED_SEARCH_URL=https://api.ted.europa.eu/v3/notices/search
DOWNLOAD_DELAY=1.2
MAX_DOWNLOADS=50
HTTP_TIMEOUT=60

# Default filters for downloads
DEFAULT_COUNTRY=ESP
DEFAULT_CPV_PREFIX=7226
DEFAULT_DATE_FROM=2024-01-01

# ------------------------------------------------
# Recommendation Engine
# ------------------------------------------------
# Category weights (must sum to 1.0)
WEIGHT_TECHNICAL=0.30
WEIGHT_BUDGET=0.25
WEIGHT_GEOGRAPHIC=0.15
WEIGHT_EXPERIENCE=0.20
WEIGHT_COMPETITION=0.10

# ------------------------------------------------
# Notifications
# ------------------------------------------------
# Enable email notifications?
ENABLE_EMAIL_NOTIFICATIONS=True

# Check for new tenders every X minutes
NEW_TENDERS_CHECK_INTERVAL=60

# Send daily digest email?
SEND_DAILY_DIGEST=True
DAILY_DIGEST_TIME=09:00

# ------------------------------------------------
# Storage Configuration (Production)
# ------------------------------------------------
# Use S3 for media files in production?
USE_S3=False
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_STORAGE_BUCKET_NAME=tenderai-media
AWS_S3_REGION_NAME=eu-west-1

# ------------------------------------------------
# Monitoring & Error Tracking
# ------------------------------------------------
# Sentry DSN (for error tracking)
SENTRY_DSN=

# Enable Django Debug Toolbar?
ENABLE_DEBUG_TOOLBAR=True

# ------------------------------------------------
# Security (Production)
# ------------------------------------------------
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SECURE_HSTS_SECONDS=0

# ------------------------------------------------
# Rate Limiting
# ------------------------------------------------
# Chat API rate limit (requests per minute)
CHAT_RATE_LIMIT=20

# Download API rate limit
DOWNLOAD_RATE_LIMIT=10

# ------------------------------------------------
# Feature Flags
# ------------------------------------------------
ENABLE_WEBSOCKET_CHAT=True
ENABLE_AUTO_RECOMMENDATIONS=True
ENABLE_SAVED_SEARCHES=True
ENABLE_TEAM_COLLABORATION=False

# ------------------------------------------------
# Logging
# ------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=logs/tenderai.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
